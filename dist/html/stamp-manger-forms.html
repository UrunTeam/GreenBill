<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>票据管理 - ejs-demo</title>
<meta name="renderer" content="webkit">

<link rel="stylesheet" href="../css/custom-bootstrap.css">
<link rel="stylesheet" href="../libs/elementui/index.css">
<link rel="stylesheet" href="../libs/iconfont/iconfont.css">
<link rel="stylesheet" href="../css/global.css">
<link rel="stylesheet" href="../css/forms.css">


<!--[if lt IE 9]>
  <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<style>
  .reset .el-form-item {
    margin-right: 30px;
  }

  .reset .el-form-item__label {
    white-space: nowrap;
    font-weight: bold;
    line-height: 22px;
  }

  .el-checkbox-group {
    display: inline-block;
  }

  .upload-demo {
    margin-bottom: 20px;
  }

  .borderBottom {
    border-bottom: 1px solid #EBEEF2;
    padding-top: 20px;
  }
  .borderBottom:last-child {
    border: none;
  }
</style>

<body>
  <div class="container-box">
    <div class="header-box" id="js_header">
  <span class="logo">绿色票据信息管理系统</span>
  <ul class="ul-nav">
    <!-- <li>
      <i class=""></i>
      <span>首页</span>
    </li>
    <li class="active">
      <i class=""></i>
      <span>票据管理</span>
    </li>
    <li>
      <i class=""></i>
      <span>监管报送</span>
    </li>
    <li>
      <i class=""></i>
      <span>票据资源库</span>
    </li>
    <li>
      <i class=""></i>
      <span>票据知识</span>
    </li> -->

    
        
    <li class="">
      
      <a href="javascript:;">
      <i class="el-icon-alilujing"></i>
        <span>首页</span>
      </a>
    </li>
        
    <li class="active">
      
      <a href="stamp-manger.html">
      <i class="el-icon-alilujing8"></i>
        <span>票据管理</span>
      </a>
    </li>
        
    <li class="">
      
      <a href="javascript:;">
      <i class="el-icon-alilujing2"></i>
        <span>监管报送</span>
      </a>
    </li>
        
    <li class="">
      
      <a href="票据资源库.html">
      <i class="el-icon-alilujing7"></i>
        <span>票据资源库</span>
      </a>
    </li>
        
    <li class="">
      
      <a href="票据知识.html">
      <i class="el-icon-alilujing10"></i>
        <span>票据知识</span>
      </a>
    </li>
    
  </ul>
  <div class="user-infos">
    <span class="username">李晓晓，下午好！</span>
    <i class="el-icon-alizu5"></i>
    <i class="el-icon-alilujing4" @click="handleOpen"></i>
  </div>
</div>
    <div class="body-box">
      <div class="aside-box" id="js_aside" v-cloak>
  <el-menu default-active="stamp-manger" class="el-menu-vertical-demo" @open="handleOpen" @close="handleClose" @select="menuSelected"
    :collapse="isCollapse" background-color="#FFFFFF" text-color="#4E5666">
    <nav-menu :navmenus="leftMenus"></nav-menu>
  </el-menu>
</div>
      <div class="main-box" id="js_main_box">
        <el-form :model="ruleForm" :rules="rules" ref="ruleForm" label-width="100px" class="demo-ruleForm">

          <!-- 系统信息start -->
          <div class="table-list">
            <div class="toolbar">
              <h6>企业基本信息</h6>
            </div>
            <div class="forms-box">
              <el-form-item label="企业名称" prop="name">
                <el-input v-model="ruleForm.name" placeholder="请输入企业名称~" size="small"></el-input>
              </el-form-item>

              <el-form-item label="信用代码" prop="number">
                <el-input v-model="ruleForm.number" placeholder="请输入社会信用代码~" size="small"></el-input>
              </el-form-item>

              <el-form-item label="主营业务" prop="work">
                <el-select v-model="ruleForm.work" placeholder="请选择主营业务~" size="small">
                  <el-option label="选项一" value="shanghai"></el-option>
                  <!-- <el-option label="区域一" value="shanghai"></el-option>
                  <el-option label="区域二" value="beijing"></el-option> -->
                </el-select>
              </el-form-item>

              <el-form-item label="所属行业" prop="profession">
                <el-select v-model="ruleForm.profession" placeholder="请选择所属行业~" size="small">
                  <el-option label="选项一" value="shanghai"></el-option>
                </el-select>
              </el-form-item>

              <el-form-item label="法人代表" prop="representative">
                <el-input v-model="ruleForm.representative" placeholder="请输入法人代表~" size="small"></el-input>
              </el-form-item>

              <el-form-item label="收入" prop="money">
                <el-input v-model="ruleForm.money" placeholder="请输入金额~" size="small">
                  <span class="money-text" slot="suffix">￥</span>
                </el-input>
              </el-form-item>

              <el-form-item label="收入占比" prop="percent">
                <el-input v-model="ruleForm.percent" placeholder="请输入~" size="small"></el-input>
              </el-form-item>

              <el-form-item label="部门/职位" prop="dev">
                <el-input v-model="ruleForm.dev" placeholder="请输入部门/职位~" size="small"></el-input>
              </el-form-item>

              <el-form-item label="联系人" prop="linkman">
                <el-input v-model="ruleForm.linkman" placeholder="请输入~" size="small"></el-input>
              </el-form-item>

              <el-form-item label="联系电话" prop="phone">
                <el-input v-model="ruleForm.phone" placeholder="请输入~" size="small"></el-input>
              </el-form-item>

              <el-form-item label="详细地址" prop="addr">
                <el-input v-model="ruleForm.addr" placeholder="请输入~" size="small"></el-input>
              </el-form-item>

            </div>

          </div><!-- 系统信息end -->

          <!-- 绿色票据认定start -->
          <div class="table-list">
            <div class="toolbar">
              <h6>绿色票据认定</h6>
            </div>
            <div class="forms-box reset">

              <div class="borderBottom">
                <el-form-item label="主营业务属于" prop="select1" label-width="372px">
                  <el-select v-model="ruleForm.select1" placeholder="请选择所属行业~" size="small">
                    <!-- <el-option label="区域一" value="shanghai"></el-option> -->
                    <!-- <el-option label="区域二" value="beijing"></el-option> -->
                  </el-select>

                </el-form-item>

                <!-- <el-checkbox-group v-model="checkList">
                  <el-checkbox label="2015年版"></el-checkbox>
                  <el-checkbox label="2017年版"></el-checkbox>
                  <el-checkbox label="2019年版"></el-checkbox>
                </el-checkbox-group> -->

                <el-upload class="upload-demo" style="width: 372px;"
                  action="https://jsonplaceholder.typicode.com/posts/" :on-preview="handlePreview"
                  :on-remove="handleRemove" :before-remove="beforeRemove" multiple :limit="3" :on-exceed="handleExceed"
                  :file-list="fileList">
                  <el-button size="small" type="primary">点击上传</el-button>
                  <div slot="tip" class="el-upload__tip">只能上传jpg/png文件，且不超过500kb</div>
                </el-upload>
              </div>

              <div class="borderBottom">
                <el-form-item label="银行承兑汇票签发、银行承兑汇票和商业承兑汇票贴现时的贸易背景直接属于" prop="select2" label-width="372px">
                  <el-select v-model="ruleForm.select2" placeholder="请选择所属行业~" size="small">
                    <!-- <el-option label="区域一" value="shanghai"></el-option>
                    <el-option label="区域二" value="beijing"></el-option> -->
                  </el-select>
                </el-form-item>

                <el-upload class="upload-demo" style="width: 372px;"
                  action="https://jsonplaceholder.typicode.com/posts/" :on-preview="handlePreview"
                  :on-remove="handleRemove" :before-remove="beforeRemove" multiple :limit="3" :on-exceed="handleExceed"
                  :file-list="fileList">
                  <el-button size="small" type="primary">点击上传</el-button>
                  <div slot="tip" class="el-upload__tip">只能上传jpg/png文件，且不超过500kb</div>
                </el-upload>
              </div>

              <div class="borderBottom">
                <el-form-item label="银行承兑汇票签发、银行承兑汇票和商业承兑汇票贴现时交易标的的用途属于" prop="select3" label-width="372px">
                  <el-select v-model="ruleForm.select3" placeholder="请选择所属行业~" size="small">
                    <el-option label="河湖治理及防洪设施工程建筑" value="shanghai"></el-option>
                  </el-select>
                </el-form-item>

                <el-upload class="upload-demo" style="width: 372px;"
                  action="https://jsonplaceholder.typicode.com/posts/" :on-preview="handlePreview"
                  :on-remove="handleRemove" :before-remove="beforeRemove" multiple :limit="3" :on-exceed="handleExceed"
                  :file-list="fileList">
                  <el-button size="small" type="primary">点击上传</el-button>
                  <div slot="tip" class="el-upload__tip">只能上传jpg/png文件，且不超过500kb</div>
                </el-upload>
              </div>


            </div>
          </div><!-- 绿色票据认定end -->

        </el-form>

        <div class="submit-box">
          <el-button size="medium" @click="resetForm('ruleForm')" size="small">重置</el-button>
          <el-button type="primary" size="medium" @click="submitForm('ruleForm')" size="small">提交</el-button>
        </div>
      </div>
    </div>
  </div>
  
<script src="../libs/jquery/jquery.min.js"></script>
<script src="../js/vue.js"></script>
<script src="../libs/elementui/index.js"></script>
<script src="../js/global.js"></script>


</body>
<script>
  var js_main_box = new Vue({
    el: '#js_main_box',
    delimiters: ['${', '}'],
    data() {
      return {
        checkList: ['2019年版'],

        fileList: [{ name: 'food.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100' }, { name: 'food2.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100' }],

        ruleForm: {
          name: '',
          number: '',
          work: '',
          profession: '',
          money: '',
          representative: '',
          percent: '',
          link: '',
          phone: '',
          linkman: '',
          addr: '',

          select1: '',
          select2: '',
          select3: ''

        },
        rules: {
          name: [
            { required: true, message: '请输入企业名称', trigger: 'blur' },
            // { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }
          ],
          number: [
            { required: true, message: '请输入社会信用代码', trigger: 'blur' },
            // { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }
          ],
          profession: [
            { required: true, message: '请选择所属行业', trigger: 'change' }
          ],
          work: [
            { required: true, message: '请选择主营业务', trigger: 'change' }
          ],
          money: [
            { required: true, message: '请输入金额', trigger: 'blur' }
          ],

          unit: [
            { required: true, message: '请输入客户单位名称', trigger: 'blur' },
          ],
          phone: [
            { required: true, message: '请输入客户联系电话', trigger: 'blur' },
          ],
          linkman: [
            { required: true, message: '请输入客户联系人', trigger: 'blur' },
          ],
        }
      }
    },
    methods: {
      submitForm(formName) {
        console.log(formName)
        this.$refs[formName].validate((valid) => {
          if (valid) {
            location.href = "stamp-manger.html";
          } else {
            this.$nextTick(function() {
              $('html .main-box').animate({scrollTop: $('.is-error').eq(0).offset().top}, 200)
            })
          }
        });
      },
      resetForm(formName) {
        this.$refs[formName].resetFields();
      },
      handleRemove(file, fileList) {
        console.log(file, fileList);
      },
      handlePreview(file) {
        console.log(file);
      },
      handleExceed(files, fileList) {
        this.$message.warning(`当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);
      },
      beforeRemove(file, fileList) {
        return this.$confirm(`确定移除 ${file.name}？`);
      }

    },
    created() {
      // console.log(location.href)
      var path = decodeURI(location.pathname.split('/').slice(-1).toString()).replace(/.html/, '');
      console.log(path + '.html')
      // parent.window.vm_main_box.$data.iframeUrl = "unit_info.html" 
    }

  })

</script>

</html>